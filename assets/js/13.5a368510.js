(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{180:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("原文地址："),a("a",{attrs:{href:"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.sitepoint.com/beginners-guide-webpack-module-bundling/"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[a("a",{attrs:{href:"https://github.com/webpack/webpack",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack 4"),a("OutboundLink")],1),t._v(" 的官方文档自述称：")])]),t._v(" "),t._m(1),t._v(" "),a("p",[a("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack"),a("OutboundLink")],1),t._v(" 已经成为现代 web 开发最重要的工具之一。它主要是一个针对你的 JavaScript 的模块聚合器，但是它可以学会转换你所有的前端资源，比如 HTML，CSS，甚至图像。它可以让你更好地控制你的应用程序发出的 HTTP 请求数量，并允许你使用其他类型的资源(例如 Pug、Sass 和 ES8 )。Webpack 还允许您轻松使用 npm 中的包。")]),t._v(" "),a("p",[t._v("本文面向那些对 Webpack 不熟悉的人，将涵盖初始设置和配置、modules、loaders、plugins、代码分割和模块热替换。如果你觉得视频教程很有帮助，我可以强烈推荐 Glen Maddern 的 "),a("a",{attrs:{href:"https://www.youtube.com/watch?v=WQue1AN93YU",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack from First Principles"),a("OutboundLink")],1),t._v("，作为理解 Webpack 特殊之处的起点。它现在有点旧了，但是原理仍然是一样的，这是一个很好的介绍。")]),t._v(" "),a("p",[t._v("继续跟进，您需要"),a("a",{attrs:{href:"https://www.sitepoint.com/quick-tip-multiple-versions-node-nvm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装 Node.js"),a("OutboundLink")],1),t._v("。您也可以"),a("a",{attrs:{href:"https://github.com/markbrown4/webpack-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("从我们的 GitHub 仓库下载演示应用程序"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("让我们用 npm 初始化一个新项目，并安装 webpack 和 webpack-cli(*1) :")]),t._v(" "),t._m(3),a("p",[t._v("接下来，我们将创建以下目录结构和内容：")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),a("p",[t._v("这告诉 Webpack 编译我们的入口路径 "),a("code",[t._v("src/index.js")]),t._v(" 中的代码，并在 "),a("code",[t._v("/dist/bundle.js")]),t._v(" 中输出一个包。让我们添加一个运行 Webpack 的 "),a("a",{attrs:{href:"https://docs.npmjs.com/misc/scripts",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm 脚本"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("使用 ES 模块，你可以把你的大程序分成许多小的、独立的程序。")]),t._v(" "),a("p",[t._v("开箱即用，Webpack 知道如何使用 "),a("code",[t._v("import")]),t._v(" 和 "),a("code",[t._v("export")]),t._v(" 语句使用 ES 模块。例如，现在让我们通过安装 "),a("a",{attrs:{href:"https://lodash.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("lodash-es"),a("OutboundLink")],1),t._v(" 和添加第二个模块来尝试一下：")]),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._m(32),t._m(33),t._v(" "),t._m(34),t._v(" "),a("p",[t._v("让我们把所有 "),a("code",[t._v(".js")]),t._v(" 文件通过下一代 JavaScript 转译器 "),a("a",{attrs:{href:"http://babeljs.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Babel"),a("OutboundLink")],1),t._v(" 运行来保持所有代码的现代化 ：")]),t._v(" "),t._m(35),t._m(36),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._m(40),t._v(" "),a("p",[t._v("我们现在可以自由使用现代语言特性，它们将被编译成在所有浏览器中运行的 ES5。")]),t._v(" "),t._m(41),t._v(" "),a("p",[t._v("加载器可以链接在一起成为一系列转换。是从我们的 JavaScript 中导入 Sass 是演示这是如何工作的一个好方法：")]),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),a("p",[t._v("这些加载器以相反的顺序进行处理：")]),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("你可以把这些看作函数调用。一个加载器的输出作为输入馈送到下一个:")]),t._v(" "),t._m(46),a("p",[t._v("让我们添加一个 Sass 源文件并导入为一个模块。")]),t._v(" "),t._m(47),t._v(" "),t._m(48),t._m(49),t._v(" "),t._m(50),t._m(51),t._v(" "),t._m(52),t._v(" "),a("p",[t._v("我们刚刚从 JavaScript 中导入了一个 Sass 文件，作为一个模块。")]),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("我不会在这里深入探讨这个话题，但有几个理由需要考虑：")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),a("p",[t._v("使用以下命令下载"),a("a",{attrs:{href:"https://raw.githubusercontent.com/sitepoint-editors/webpack-demo/master/src/code.png",target:"_blank",rel:"noopener noreferrer"}},[t._v("测试图像"),a("OutboundLink")],1),t._v("：")]),t._v(" "),t._m(62),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._m(66),t._v(" "),t._m(67),a("p",[t._v("这将包括一个图像，其中 "),a("code",[t._v("src")]),t._v(" 属性包含图像本身的"),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs",target:"_blank",rel:"noopener noreferrer"}},[t._v("数据 URI"),a("OutboundLink")],1),t._v(" ：")]),t._v(" "),t._m(68),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),a("p",[t._v("请参见文档中加载器的更多示例：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://webpack.js.org/guides/asset-management/#loading-fonts",target:"_blank",rel:"noopener noreferrer"}},[t._v("Loading Fonts"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.js.org/guides/asset-management/#loading-data",target:"_blank",rel:"noopener noreferrer"}},[t._v("Loading Data"),a("OutboundLink")],1)])]),t._v(" "),t._m(72),t._v(" "),a("p",[t._v("现在，您应该能够看到加载器如何帮助在您的资产之间建立依赖关系树。这就是 Webpack 主页上的图片所展示的。")]),t._v(" "),t._m(73),t._v(" "),a("p",[t._v("虽然 JavaScript 是入口点，但是 Webpack 意识到您的其他资产类型——如 HTML、CSS 和 SVG——都有它们自己的依赖关系，这应该被视为构建过程的一部分。")]),t._v(" "),t._m(74),t._v(" "),a("p",[t._v("来自 "),a("a",{attrs:{href:"https://webpack.js.org/guides/code-splitting/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Webpack 文档"),a("OutboundLink")],1),t._v("：")]),t._v(" "),t._m(75),t._v(" "),a("p",[t._v("到目前为止，我们只看到了一个入口点——"),a("code",[t._v("src/index.js")]),t._v("——和一个输出包——"),a("code",[t._v("dist/bundle.js")]),t._v("。当你的应用程序增长时，你需要把它分开，这样整个代码库就不会在开始时被下载。一个好的方法是使用"),a("a",{attrs:{href:"https://webpack.js.org/guides/code-splitting/",target:"_blank",rel:"noopener noreferrer"}},[t._v("代码拆分"),a("OutboundLink")],1),t._v("和"),a("a",{attrs:{href:"https://webpack.js.org/guides/lazy-loading/",target:"_blank",rel:"noopener noreferrer"}},[t._v("惰性加载"),a("OutboundLink")],1),t._v("来按需获取代码路径需要的东西。")]),t._v(" "),a("p",[t._v("让我们通过添加一个“chat”模块来演示这一点，当有人与它交互时，这个模块被获取并初始化。我们将创建一个新的入口点并给它一个名称，我们还将使输出的文件名动态化，因此每个块的文件名都不同。")]),t._v(" "),t._m(76),t._v(" "),t._m(77),t._m(78),t._v(" "),t._m(79),t._m(80),t._v(" "),t._m(81),t._m(82),t._v(" "),t._m(83),a("p",[t._v("*注意：*尽管"),a("code",[t._v("/ * webpackChunkName * /")]),t._v("注释为包命名，但该语法不是特定于 Webpack 的。这是"),a("a",{attrs:{href:"https://github.com/tc39/proposal-dynamic-import",target:"_blank",rel:"noopener noreferrer"}},[t._v("动态导入的建议语法"),a("OutboundLink")],1),t._v("，预期在浏览器中直接支持。")]),t._v(" "),t._m(84),t._v(" "),t._m(85),a("p",[t._v("随着我们的入口包发生了变化，我们也需要更新我们的路径。")]),t._v(" "),t._m(86),t._v(" "),t._m(87),a("p",[t._v("让我们从 dist 目录启动一个服务，以查看它的运行情况：")]),t._v(" "),t._m(88),t._m(89),t._v(" "),t._m(90),t._v(" "),a("p",[t._v("只需很少的努力，我们已经在应用程序中添加了动态代码分割和模块的惰性加载。这是构建高性能网络应用的一个很好的起点。")]),t._v(" "),t._m(91),t._v(" "),a("p",[t._v("当加载器在单个文件上操作转换时，插件在更大的代码块上操作。")]),t._v(" "),a("p",[t._v("现在我们正在聚合我们的代码、外部模块和静态资产，我们的包将会快速增长。插件在这里帮助我们以巧妙的方式分割代码，并优化产品。")]),t._v(" "),a("p",[t._v("不知不觉中，我们实际上已经使用了许多"),a("a",{attrs:{href:"https://webpack.js.org/concepts/mode/#usage",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认的“mode”附带的 Webpack 插件"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),t._m(95),t._v(" "),t._m(96),t._v(" "),a("p",[t._v("在添加额外的插件之前，我们首先将我们的配置分开，以便我们可以应用特定于每个环境的插件。")]),t._v(" "),t._m(97),t._v(" "),t._m(98),t._m(99),t._v(" "),t._m(100),t._m(101),t._v(" "),t._m(102),t._m(103),t._v(" "),t._m(104),t._m(105),t._v(" "),t._m(106),t._m(107),t._v(" "),a("p",[t._v("打包用于生产环境使用时，使用 "),a("a",{attrs:{href:"https://webpack.js.org/plugins/extract-text-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("ExtractTextWebpackPlugin"),a("OutboundLink")],1),t._v(" 将您的 CSS 与 JavaScript 分开被认为是最佳实践。")]),t._v(" "),t._m(108),t._v(" "),t._m(109),t._m(110),t._v(" "),t._m(111),t._m(112),t._v(" "),t._m(113),t._m(114),t._v(" "),t._m(115),a("p",[t._v("让我们比较两个构建脚本的输出：")]),t._v(" "),t._m(116),t._m(117),t._m(118),t._v(" "),t._m(119),t._v(" "),t._m(120),a("p",[t._v("这允许在浏览器中并行下载 CSS 和 JavaScript，因此加载速度比单个包快。它还允许在 JavaScript 完成下载之前显示样式。")]),t._v(" "),t._m(121),t._v(" "),t._m(122),t._v(" "),t._m(123),t._v(" "),t._m(124),t._m(125),t._v(" "),t._m(126),a("p",[t._v("现在每次我们构建的时候，dist 目录都会被清空。我们现在也将看到输出的 index.html，以及到我们的入口包的正确路径。")]),t._v(" "),t._m(127),t._v(" "),t._m(128),t._m(129),t._v(" "),t._m(130),t._m(131),t._v(" "),a("p",[t._v("webpack-dev-server 为您提供了一个简单的 web 服务器，并为您提供了实时重载，因此您不需要手动刷新页面来查看更改。")]),t._v(" "),t._m(132),t._m(133),t._v(" "),t._m(134),a("p",[t._v("在浏览器中打开 http://localhost:8080/ 并对其中一个 JavaScript 或 CSS 文件进行更改。您应该会看到它自动构建和刷新。")]),t._v(" "),t._m(135),t._v(" "),t._m(136),t._v(" "),t._m(137),t._v(" "),t._m(138),a("p",[t._v("现在，我们需要*接受(accept)*代码中已更改的模块来重新初始化。")]),t._v(" "),t._m(139),t._v(" "),t._m(140),t._m(141),t._v(" "),a("p",[t._v("重新启动构建，看看当我们执行以下操作时会发生什么：")]),t._v(" "),t._m(142),t._v(" "),t._m(143),t._v(" "),a("p",[t._v("事情是这样的：")]),t._v(" "),t._m(144),t._v(" "),t._m(145),t._v(" "),a("p",[t._v("让我们将按钮颜色改为红色，看看会发生什么：")]),t._v(" "),t._m(146),t._m(147),t._v(" "),a("p",[t._v("现在我们可以看到我们样式的即时更新，而不会失去任何状态。这是一个大大改进的开发人员体验！感觉就像是未来。")]),t._v(" "),t._m(148),t._v(" "),a("p",[t._v("使用像 Webpack 这样的模块管理器的一个主要好处是，它可以让您控制资产是如何构建的，然后在客户端获取的，从而帮助您提高性能。多年来，串联文件以减少需要在客户机上发出的请求数量被认为是"),a("a",{attrs:{href:"https://developer.yahoo.com/performance/rules.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("最佳做法"),a("OutboundLink")],1),t._v("。这仍然有效，但是现在 [HTTP/2 允许在一个请求中传递多个文件](HTTP/2 允许在一个请求中传递多个文件)，所以串联不再是一个万能药(silver bullet)。你的应用程序实际上可能会受益于单独缓存许多小文件。然后，客户端可以获取单个已更改的模块，而不必再次获取大部分内容相同的整个包。")]),t._v(" "),a("p",[t._v("Webpack 的创建者 "),a("a",{attrs:{href:"https://twitter.com/wSokra",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tobias Koppers"),a("OutboundLink")],1),t._v(" 写了一篇内容丰富的文章，解释为什么聚合仍然很重要，即使是在 HTTP/2 时代。")]),t._v(" "),t._m(149),t._v(" "),a("p",[t._v("我希望你已经认可这个 Webpack 的介绍很有帮助，并且能够开始使用它达到很好的效果。围绕 Webpack 的配置、加载器和插件可能需要一点时间，但是学习这个工具是如何工作的将会有回报。")]),t._v(" "),a("p",[t._v("Webpack 4 的文档目前正在编写中，但是已经整理好了。我强烈建议阅读"),a("a",{attrs:{href:"https://webpack.js.org/concepts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("概念"),a("OutboundLink")],1),t._v("和"),a("a",{attrs:{href:"https://webpack.js.org/guides/",target:"_blank",rel:"noopener noreferrer"}},[t._v("指南"),a("OutboundLink")],1),t._v("以获取更多信息。这里还有几个你可能感兴趣的话题：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://webpack.js.org/guides/development/#using-source-maps",target:"_blank",rel:"noopener noreferrer"}},[t._v("Source Maps for development"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.js.org/guides/production/#source-mapping",target:"_blank",rel:"noopener noreferrer"}},[t._v("Source Maps for production"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.js.org/guides/caching/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cache busting with hashed filenames"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.js.org/plugins/commons-chunk-plugin/#explicit-vendor-chunk",target:"_blank",rel:"noopener noreferrer"}},[t._v("Splitting a vendor bundle"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Webpack 4 是您选择的模块管理器吗？请在下面的评论中告诉我。")]),t._v(" "),t._m(150),t._v(" "),a("p",[t._v("*2：因为程序版本的原因，我自己在按照以上操作后得到的包大小和上文中有些许出入，数量级没有差距，production 模式打出的包大小要比 development 模式的小得多。")]),t._v(" "),t._m(151)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"webpack-4-和模块打包的初学者指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-4-和模块打包的初学者指南","aria-hidden":"true"}},[this._v("#")]),this._v(" Webpack 4 和模块打包的初学者指南")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Webpack 是一个模块管理器。它的主要目的是聚合在浏览器中使用的 JavaScript 文件，而且它也能够转换、聚合或打包几乎任何资源或资产。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置","aria-hidden":"true"}},[this._v("#")]),this._v(" 设置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("mkdir webpack-demo && cd webpack-demo\nnpm init -y\nnpm install --save-dev webpack webpack-cli\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  webpack-demo\n  |- package.json\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ |- webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ |- /src")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   |- index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ |- /dist")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   |- index.html")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("dist/index.html")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!doctype html>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hello Webpack"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("bundle.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/index.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nroot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`<p>Hello Webpack.</p>`")])]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("package.json")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v('  {\n    ...\n    "scripts": {\n'),s("span",{pre:!0,attrs:{class:"token deleted"}},[this._v('-     "test": "echo \\"Error: no test specified\\" && exit 1"')]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v('+     "develop": "webpack --mode development --watch",')]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v('+     "build": "webpack --mode production"')]),this._v("\n    },\n    ...\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("npm run develop")]),this._v(" 命令，我们可以创建第一个包！")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("Asset      Size      Chunks           Chunk Names\nbundle.js  2.92 KiB  main  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("emitted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v("  main\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("现在，你应该可以在浏览器中加载 "),s("code",[this._v("dist/index.html")]),this._v("，并得到“Hello Webpack”的问候。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开 "),s("code",[this._v("dist/bundle.js")]),this._v(" 看看 Webpack 做了什么。顶部是 Webpack 的模块引导代码，底部是我们的模块。你可能目前还没有感受到惊喜，但是如果你已经走了这么远，你现在可以开始使用ES模块，并且 Webpack 将能够产生一个可以在所有浏览器中工作的生产包。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("用 "),s("code",[this._v("Ctrl + C")]),this._v(" 重新启动构建，并运行 "),s("code",[this._v("npm run build")]),this._v(" 以在生产模式下编译我们的包。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("Asset      Size       Chunks           Chunk Names\nbundle.js  647 bytes  main  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("emitted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v("  main\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请注意，包大小已经从 "),s("strong",[this._v("2.92 KiB")]),this._v(" 下降到 "),s("strong",[this._v("647 bytes")]),this._v("(*2)。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("再看看 "),s("code",[this._v("dist/bundle.js")]),this._v("，你会看到一堆丑陋杂乱的代码。我们的包已经用UglifyJS缩小了：代码将运行完全相同，但是它以尽可能小的文件大小完成。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("--mode development")]),this._v(" 优化构建速度和调试。")]),this._v(" "),s("li",[s("code",[this._v("--mode production")]),this._v(" 优化运行时的执行速度和输出文件大小。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块","aria-hidden":"true"}},[this._v("#")]),this._v(" 模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev lodash-es\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/index.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" groupBy "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash-es"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" people "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./people"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" managerGroups "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("people"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"manager"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nroot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`<pre>")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("managerGroups"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("</pre>`")])]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/people.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" people "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jen"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bob"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jen"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sue"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bob"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Shirley"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" people\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("运行 "),s("code",[this._v("npm run develop")]),this._v(" 来启动 Webpack 并刷新 "),s("code",[this._v("index.html")]),this._v("。屏幕上应该会显示按 manager 属性分组的一系列人员。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("*注意：*没有像"),s("code",[this._v("'es-lodash'")]),this._v("这样的相对路径的导入是从 npm 安装到 "),s("code",[this._v("/node_modules")]),this._v(" 的模块。您自己的模块将总是需要一个相对路径，如"),s("code",[this._v("'./people'")]),this._v("，因为这是你区分他们的方法。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("请注意，在控制台中，我们的包大小已经增加到 "),s("strong",[this._v("1.41 MiB")]),this._v("！这值得关注，尽管在这种情况下没有理由担心。使用 "),s("code",[this._v("npm run build")]),this._v(" 在生产模式下进行编译，将从包中移除 lodash-es 中所有未使用的 lodash 模块。这种删除未使用的导入的过程被称为 "),s("strong",[this._v("tree-shaking")]),this._v("，这是您从 Webpack 中免费获得的。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run develop\n\nAsset      Size      Chunks                  Chunk Names\nbundle.js  1.41 MiB  main  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("big"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  main\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n\nAsset      Size      Chunks        Chunk Names\nbundle.js  16.7 KiB  0  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  main\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"加载器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#加载器","aria-hidden":"true"}},[this._v("#")]),this._v(" 加载器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("加载器允许您在文件导入时对其运行预处理程序。这允许您聚合 JavaScript 之外的静态资源，但是让我们先看看加载 "),s("code",[this._v(".js")]),this._v(" 模块时可以做些什么。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v('"babel-loader@^8.0.0-beta"')]),this._v(" @babel/core @babel/preset-env\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("   module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("     rules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("         test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.js$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("         exclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(node_modules|bower_components)/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("         use"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("           loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v(".babelrc")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"modules"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"syntax-dynamic-import"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这份配置(*3)防止了 Babel 将 "),s("code",[this._v("import")]),this._v(" 和 "),s("code",[this._v("export")]),this._v(" 语句转译到 ES5 中，并启用了动态导入——我们将在后面的代码拆分一节中讨论这一点。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"sass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sass","aria-hidden":"true"}},[this._v("#")]),this._v(" Sass")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev style-loader css-loader sass-loader node-sass\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  module.exports = {\n    ...\n    module: {\n      rules: [\n        ...\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         test: /\\.scss$/,")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         use: [{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           loader: 'style-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         }, {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           loader: 'css-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         }, {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           loader: 'sass-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         }]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       }")]),t._v("\n      ]\n    }\n  }\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("sass-loader")]),t._v(" 将 Sass 转换为 CSS。")]),t._v(" "),a("li",[a("code",[t._v("css-loader")]),t._v(" 将 CSS 解析成 JavaScript 并解析任何依赖关系。")]),t._v(" "),a("li",[a("code",[t._v("style-loader")]),t._v(" 输出我们的 CSS 到 document 的 "),a("code",[t._v("<style>")]),t._v(" 标签中。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("styleLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cssLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sassLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/style.scss")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$bluegrey")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #2b3a42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("pre ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 8px 16px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$bluegrey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #e1e6e9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Menlo, Courier, monospace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 13px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("line-height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-shadow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 1px 0 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("23, 31, 35, 0.5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/index.js")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("  import { groupBy } from 'lodash-es'\n  import people from './people'\n\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+ import './style.scss'")]),this._v("\n\n  ...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("用 "),s("code",[this._v("Ctrl + C")]),this._v(" 和 "),s("code",[this._v("npm run develop")]),this._v(" 重新启动构建。在浏览器中刷新 "),s("code",[this._v("index.html")]),this._v("，你会看到一些样式。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"js-中的-css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-中的-css","aria-hidden":"true"}},[this._v("#")]),this._v(" JS 中的 CSS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("打开 "),s("code",[this._v("dist/bundle.js")]),this._v(" 并搜索“pre {”。事实上，我们的 Sass 已经被编译成一串 CSS，并作为一个模块保存在我们的包中。当我们将该模块导入到我们的 JavaScript 中时，"),s("code",[this._v("style-loader")]),this._v(" 将该字符串输出到内嵌的"),s("code",[this._v("<style>")]),this._v(" 标签中。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("为什么要做这样的事？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("您可能希望包含在项目中的一个 JavaScript 组件可能依赖于其他资产来正常运行(HTML、CSS、图像、SVG )。如果这些都可以捆绑在一起，就更容易导入和使用。")]),this._v(" "),s("li",[this._v("死代码消除：当一个 JS 组件不再被您的代码导入时，该 CSS 也将不再被导入。生成的包将只包含做某事的代码。")]),this._v(" "),s("li",[this._v("CSS 模块：CSS 的全局命名空间使得很难相信对你的 CSS 的改变不会有任何副作用。CSS 模块在默认情况下通过使 CSS 成为本地的，并暴露您可以在 JavaScript 中引用的唯一类名来改变这一点。")]),this._v(" "),s("li",[this._v("通过以巧妙的方式聚合/拆分的代码来减少 HTTP 请求的数量。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"图像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图像","aria-hidden":"true"}},[this._v("#")]),this._v(" 图像")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们要看的最后一个加载器例子是用 "),s("code",[this._v("file-loader")]),this._v(" 处理图像。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在标准的 HTML 文档中，当浏览器遇到 "),s("code",[this._v("img")]),this._v(" 标签或具有 "),s("code",[this._v("background-image")]),this._v("  属性的元素时，会获取图像。使用Webpack，您可以在小图像的情况下通过将图像源存储为 JavaScript 中的字符串来优化这一点。通过这样做，您可以预加载它们，浏览器以后就不必用单独的请求来获取它们了：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev file-loader\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  module.exports = {\n    ...\n    module: {\n      rules: [\n        ...\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         test: /\\.(png|svg|jpg|gif)$/,")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         use: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+             loader: 'file-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       }")]),t._v("\n      ]\n    }\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" https://raw.githubusercontent.com/sitepoint-editors/webpack-demo/master/src/code.png --output src/code.png\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("用 "),s("code",[this._v("Ctrl + C")]),this._v(" 和 "),s("code",[this._v("npm run develop")]),this._v(" 重新启动构建，您现在可以将图像作为模块导入了！")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/index.js")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("  import { groupBy } from 'lodash-es'\n  import people from './people'\n\n  import './style.scss'\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+ import './image-example'")]),this._v("\n\n  ...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/image-example.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" codeURL "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./code.png"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nimg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" codeURL\nimg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"background: #2B3A42; padding: 20px"')]),t._v("\nimg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("data:image/png;base64,iVBO..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #2B3A42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20px")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("32"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们 CSS 中的背景图像也由 "),s("code",[this._v("file-loader")]),this._v(" 处理。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/style.scss")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("  $bluegrey: #2b3a42;\n\n  pre {\n    padding: 8px 16px;\n"),s("span",{pre:!0,attrs:{class:"token deleted"}},[this._v("-   background: $bluegrey;")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v('+   background: $bluegrey url("code.png") no-repeat center center / 32px 32px;')]),this._v("\n    color: #e1e6e9;\n    font-family: Menlo, Courier, monospace;\n    font-size: 13px;\n    line-height: 1.5;\n    text-shadow: 0 1px 0 rgba(23, 31, 35, 0.5);\n    border-radius: 3px;\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"依赖图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖图","aria-hidden":"true"}},[this._v("#")]),this._v(" 依赖图")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png",alt:"JS requires SCSS requires CSS requires PNG"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"代码分割"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码分割","aria-hidden":"true"}},[this._v("#")]),this._v(" 代码分割")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("代码分割是 Webpack 最引人注目的特性之一。这个特性允许您将代码分成不同的包，然后可以按需或并行加载。它可用于实现更小的包和控制资源负载优先级，如果使用正确，这将对负载时间产生重大影响（好的方面）。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("   const path = require('path')\n\n  module.exports = {\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-   entry: './src/index.js',")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   entry: {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     app: './src/app.js'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   },")]),t._v("\n    output: {\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-     filename: 'bundle.js',")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     filename: '[name].bundle.js',")]),t._v("\n      path: path.resolve(__dirname, 'dist')\n    },\n    ...\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/app.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app.scss'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" button "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"button"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Open chat'")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nbutton"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* webpackChunkName: "chat" */')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./chat"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    chat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/chat.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" people "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./people"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`<p>There are ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("people"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" people in the room.</p>`")])]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/app.scss")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("button ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #24b47e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px solid "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("#000, .1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px 1px 3px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inherit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #fff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("cursor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pointer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-shadow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 1px 0 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("#000, .3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", 0 1px 1px "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgba")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("#000, .2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("让我们运行 "),s("code",[this._v("npm run build")]),this._v("，看看这会产生什么结果：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Asset           Size       Chunks        Chunk Names\nchat.bundle.js  377 bytes  0  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  chat\napp.bundle.js   7.65 KiB   1  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  app\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("dist/index.html")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("  <!doctype html>\n  <html>\n    <head>\n      <title>Hello Webpack</title>\n    </head>\n    <body>\n"),s("span",{pre:!0,attrs:{class:"token deleted"}},[this._v('-     <script src="bundle.js"><\/script>')]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v('+     <script src="app.bundle.js"><\/script>')]),this._v("\n    </body>\n  </html>\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" dist\nnpx serve\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在浏览器中打开 http://localhost:5000，看看会发生什么。最初只获取 "),s("code",[this._v("bundle.js")]),this._v("。当点击按钮时，chat 模块被导入并初始化。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2018/03/1521906882lazy-loading.png",alt:"Network requests showing lazy loading of chunks"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件","aria-hidden":"true"}},[this._v("#")]),this._v(" 插件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("development")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("为 "),s("code",[this._v("process.env.NODE_ENV")]),this._v(" 提供值 “development”")]),this._v(" "),s("li",[this._v("NamedModulesPlugin")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("production")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("为 "),a("code",[t._v("process.env.NODE_ENV")]),t._v(" 提供值 “production”")]),t._v(" "),a("li",[t._v("UglifyJsPlugin")]),t._v(" "),a("li",[t._v("ModuleConcatenationPlugin")]),t._v(" "),a("li",[t._v("NoEmitOnErrorsPlugin")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"production"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#production","aria-hidden":"true"}},[this._v("#")]),this._v(" Production")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("将 "),s("code",[this._v("webpack.config.js")]),this._v(" 重命名为 "),s("code",[this._v("webpack.common.js")]),this._v("，并为 development 和 production 模式各添加一个配置文件。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("- |- webpack.config.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ |- webpack.common.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ |- webpack.dev.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ |- webpack.prod.js")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们将使用 "),s("code",[this._v("webpack-merge")]),this._v(" 把我们的公共配置与特定环境的配置相结合：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev webpack-merge\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.dev.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" merge "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-merge'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" common "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./webpack.common.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.prod.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" merge "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-merge'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" common "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./webpack.common.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("package.json")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v('   "scripts": {\n'),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v('-    "develop": "webpack --watch --mode development",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v('-    "build": "webpack --mode production"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v('+    "develop": "webpack --watch --config webpack.dev.js",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v('+    "build": "webpack --config webpack.prod.js"')]),t._v("\n   },\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"拆分-css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拆分-css","aria-hidden":"true"}},[this._v("#")]),this._v(" 拆分 CSS")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("目前的 "),a("code",[t._v(".scss")]),t._v(" 加载器非常适合开发环境，所以我们将把它们从 "),a("code",[t._v("webpack.common.js")]),t._v(" 移到 "),a("code",[t._v("webpack.dev.js")]),t._v(" 中，并只将 "),a("code",[t._v("ExtractTextWebpackPlugin")]),t._v(" 添加到 "),a("code",[t._v("webpack.prod.js")]),t._v(" 中。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev extract-text-webpack-plugin@4.0.0-beta.0\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.common.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  ...\n  module.exports = {\n    ...\n    module: {\n      rules: [\n        ...\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-       {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-         test: /\\.scss$/,")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-         use: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-           {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-             loader: 'style-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-           }, {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-             loader: 'css-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-           }, {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-             loader: 'sass-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-           }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-         ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted"}},[t._v("-       },")]),t._v("\n        ...\n      ]\n    }\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.dev.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  const merge = require('webpack-merge')\n  const common = require('./webpack.common.js')\n\n  module.exports = merge(common, {\n    mode: 'development',\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   module: {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     rules: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         test: /\\.scss$/,")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         use: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+             loader: 'style-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           }, {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+             loader: 'css-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           }, {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+             loader: 'sass-loader'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   }")]),t._v("\n  })\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.prod.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  const merge = require('webpack-merge')\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ const ExtractTextPlugin = require('extract-text-webpack-plugin')")]),t._v("\n  const common = require('./webpack.common.js')\n\n  module.exports = merge(common, {\n    mode: 'production',\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   module: {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     rules: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         test: /\\.scss$/,")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         use: ExtractTextPlugin.extract({")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           fallback: 'style-loader',")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+           use: ['css-loader', 'sass-loader']")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+         })")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       }")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     ]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   plugins: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     new ExtractTextPlugin('style.css')")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   ]")]),t._v("\n  })\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run develop\n\nAsset           Size      Chunks           Chunk Names\napp.bundle.js   28.5 KiB  app   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  app\nchat.bundle.js  1.4 KiB   chat  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  chat\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n\nAsset           Size       Chunks        Chunk Names\nchat.bundle.js  375 bytes  0  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  chat\napp.bundle.js   1.82 KiB   1  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  app\nstyle.css       424 bytes  1  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  app\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("既然我们的 CSS 是从我们的 JavaScript 包中提取出来用于生产的，我们需要从我们的 HTML 通过 "),s("code",[this._v("<link>")]),this._v(" 标签引用它。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("dist/index.html")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v('  <!DOCTYPE html>\n  <html>\n    <head>\n      <meta charset="UTF-8">\n      <title>Code Splitting</title>\n'),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v('+     <link href="style.css" rel="stylesheet">')]),this._v('\n    </head>\n    <body>\n      <script type="text/javascript" src="app.bundle.js"><\/script>\n    </body>\n  </html>\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"生成-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成-html","aria-hidden":"true"}},[this._v("#")]),this._v(" 生成 HTML")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("每当我们的输出改变时，我们必须不断更新 "),s("code",[this._v("index.html")]),this._v(" 来引用新的文件路径。这正是 "),s("code",[this._v("html-webpack-plugin")]),this._v(" 能为我们自动完成的。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们不妨同时添加 "),s("code",[this._v("clean-webpack-plugin")]),this._v(" ，以便在每次构建之前清除我们的 "),s("code",[this._v("/dist")]),this._v(" 目录。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev html-webpack-plugin clean-webpack-plugin\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.common.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("  const path = require('path')\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ const CleanWebpackPlugin = require('clean-webpack-plugin');")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ const HtmlWebpackPlugin = require('html-webpack-plugin');")]),t._v("\n\n  module.exports = {\n    ...\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   plugins: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     new CleanWebpackPlugin(['dist']),")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     new HtmlWebpackPlugin({")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       title: 'My killer app'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     })")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   ]")]),t._v("\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("运行 "),s("code",[this._v("npm run develop")]),this._v(" 会产生以下结果:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("My killer app"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app.bundle.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("而 "),s("code",[this._v("npm run build")]),this._v(" 会产生这个：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("My killer app"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("style.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app.bundle.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"development"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#development","aria-hidden":"true"}},[this._v("#")]),this._v(" Development")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev webpack-dev-server\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("package.json")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v('  {\n    ...\n    "scripts": {\n'),s("span",{pre:!0,attrs:{class:"token deleted"}},[this._v('-     "develop": "webpack --watch --config webpack.dev.js",')]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v('+     "develop": "webpack-dev-server --config webpack.dev.js",')]),this._v("\n    }\n    ...\n  }\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("> npm run develop")]),this._v("\n\n ｢wds｣: Project is running at http://localhost:8080/\n ｢wds｣: webpack output is served from /\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"hotmodulereplacement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hotmodulereplacement","aria-hidden":"true"}},[this._v("#")]),this._v(" HotModuleReplacement")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("HotModuleReplacement")]),this._v(" 插件比实时重载更进一步，在运行时无需刷新即可交换模块。如果配置正确，这将在开发单页应用程序的过程中节省大量时间。在页面中有很多状态的地方，可以对组件进行增量更改，只有更改后的模块才会被替换和更新。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.dev.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+ const webpack = require('webpack')")]),t._v("\n  const merge = require('webpack-merge')\n  const common = require('./webpack.common.js')\n\n  module.exports = merge(common, {\n    mode: 'development',\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   devServer: {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     hot: true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   },")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   plugins: [")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+     new webpack.HotModuleReplacementPlugin()")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+   ],")]),t._v("\n    ...\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/app.js")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+ if (module.hot) {")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+   module.hot.accept()")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+ }")]),this._v("\n\n  ...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("*注意：*启用热模块更换时，development 模式时 "),s("code",[this._v("module.hot")]),this._v(" 设置为 "),s("code",[this._v("true")]),this._v("，production 时设置为 "),s("code",[this._v("false")]),this._v("，因此这些模块将从包中剥离。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("单击打开 chat")]),this._v(" "),s("li",[this._v("添加一个新 person 到 "),s("code",[this._v("people.js")]),this._v(" 模块中")]),this._v(" "),s("li",[this._v("再次单击打开 chat")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2018/03/1521906879hmr.png",alt:"Here's what's happening:"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("当 "),a("em",[t._v("Open chat")]),t._v(" is 被点击时，"),a("code",[t._v("chat.js")]),t._v(" 模块被获取并初始化")]),t._v(" "),a("li",[t._v("HMR 检测到 "),a("code",[t._v("people.js")]),t._v(" 何时被修改")]),t._v(" "),a("li",[a("code",[t._v("index.js")]),t._v(" 中的 "),a("code",[t._v("module.hot.accept()")]),t._v(" 导致由该条目块加载的所有模块被替换")]),t._v(" "),a("li",[t._v("当 "),a("em",[t._v("Open chat")]),t._v(" 被再次点击时， "),a("code",[t._v("chat.init()")]),t._v(" 使用来自更新模块的代码运行。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"css-替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-替换","aria-hidden":"true"}},[this._v("#")]),this._v(" CSS 替换")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-diff extra-class"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[this._v("  button {\n    ...\n"),s("span",{pre:!0,attrs:{class:"token deleted"}},[this._v("-   background: #24b47e;")]),this._v("\n"),s("span",{pre:!0,attrs:{class:"token inserted"}},[this._v("+   background: red;")]),this._v("\n    ...\n  }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2018/03/1521906881hmr2.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"http-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-2","aria-hidden":"true"}},[this._v("#")]),this._v(" HTTP/2")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"over-to-you"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#over-to-you","aria-hidden":"true"}},[this._v("#")]),this._v(" Over to You")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("*1：npm 安装模块的命令中 "),s("code",[this._v("--save-dev")]),this._v(" 可以缩写为 "),s("code",[this._v("-D")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("*3：按照这样配置 "),s("code",[this._v(".babelrc")]),this._v(" 后运行打包命令会报 "),s("code",[this._v('"syntax-dynamic-import"')]),this._v(" 模块未找到的相关错误，"),s("code",[this._v("npm install syntax-dynamic-import")]),this._v(" 后能解决。")])}],!1,null,null,null);n.options.__file="Webpack 4 和模块打包的初学者指南.md";s.default=n.exports}}]);