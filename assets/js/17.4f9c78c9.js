(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{175:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("原文地址："),s("a",{attrs:{href:"http://www.javascripttutorial.net/javascript-prototype/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.javascripttutorial.net/javascript-prototype/"),s("OutboundLink")],1)]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("要学习本教程，您必须理解 "),s("a",{attrs:{href:"http://www.javascripttutorial.net/javascript-objects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript 对象"),s("OutboundLink")],1),t._v("。如果您不熟悉 JavaScript 中的对象，在继续学习本教程之前，您应该先学习 "),s("a",{attrs:{href:"http://www.javascripttutorial.net/javascript-objects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript 对象"),s("OutboundLink")],1),t._v("教程。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._m(28),t._v(" "),t._m(29),t._v(" "),s("p",[t._v("现在，请看下面的代码。")]),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),s("p",[s("code",[t._v("__proto__")]),t._v(" 的发音是 "),s("em",[t._v("dunder proto")]),t._v("。"),s("code",[t._v("__proto__")]),t._v(" 是 "),s("code",[t._v("Object.prototype")]),t._v(" 对象的"),s("a",{attrs:{href:"http://www.javascripttutorial.net/javascript-objects/#accessor_property",target:"_blank",rel:"noopener noreferrer"}},[t._v("访问器属性(accessor property)"),s("OutboundLink")],1),t._v("。它公开了一个对象的内部原型链接( "),s("code",[t._v("[[Prototype]]")]),t._v(" )，通过这个属性可以访问它。")]),t._v(" "),s("p",[s("code",[t._v("__proto__")]),t._v("已在 "),s("a",{attrs:{href:"http://www.javascripttutorial.net/es6/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES6"),s("OutboundLink")],1),t._v(" 中标准化，以确保网络浏览器的兼容性。但是，将来可能会为了支持 "),s("code",[t._v("Object.getPrototypeOf()")]),t._v(" 而将它废除。因此，您永远不应该在您的生产代码中使用 "),s("code",[t._v("__proto__")]),t._v("。")]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._m(36),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._v(" "),s("p",[t._v("看下面的方法调用。")]),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._m(46),t._v(" "),t._m(47),t._m(48),t._v(" "),t._m(49),t._v(" "),s("p",[t._v("现在，您应该理解与 JavaScript 原型相关的所有重要概念，包括原型链、原型链接、dunder proto 和遮蔽。")]),t._v(" "),t._m(50),t._v(" "),t._m(51)])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"通过样例解释-javascript-prototype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过样例解释-javascript-prototype","aria-hidden":"true"}},[this._v("#")]),this._v(" 通过样例解释 JavaScript Prototype")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("摘要")]),this._v("：JavaScript Prototype 是每个 JavaScript 开发人员必须理解的最重要的概念之一。本教程详细解释了原型概念，并清除了所有关于原型的混淆。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"javascript-prototype-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-prototype-介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" JavaScript Prototype 介绍")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("默认情况下，JavaScript 引擎提供 "),a("code",[this._v("Object()")]),this._v(" 函数和一个可以通过 "),a("code",[this._v("Object.prototype")]),this._v(" 引用的匿名对象。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[s("code",[t._v("Object.prototype")]),t._v(" 对象有许多内置属性，如 "),s("code",[t._v("toString()")]),t._v("、"),s("code",[t._v("valueOf()")]),t._v(" 等。它还有一个名为 "),s("code",[t._v("constructor")]),t._v(" 的属性，指向 "),s("code",[t._v("Object()")]),t._v(" 函数。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("假设圆代表一个函数，正方形代表一个对象。下图说明了 "),a("code",[this._v("Object()")]),this._v(" 函数和 "),a("code",[this._v("Object.prototype")]),this._v(" 对象之间的关系:")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://www.javascripttutorial.net/wp-content/uploads/2016/09/JavaScript-Prototype.png",alt:"javascript-prototype"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("首先，让我们定义一个名为 "),a("code",[this._v("Foo")]),this._v(" 的函数，如下所示:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("Foo()")]),this._v(" 函数接受一个参数，将 "),a("code",[this._v("name")]),this._v(" 属性添加到对象中，并将 "),a("code",[this._v("name")]),this._v(" 参数值赋给属性。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("在幕后，JavaScript 引擎创建一个新的函数 "),s("code",[t._v("Foo()")]),t._v(" 和一个匿名对象。"),s("code",[t._v("Foo()")]),t._v(" 函数有一个名为 "),s("code",[t._v("prototype")]),t._v(" 的属性指向匿名对象。匿名对象的 "),s("code",[t._v("constructor")]),t._v(" 属性指向 "),s("code",[t._v("Foo()")]),t._v(" 函数。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("此外，原型对象通过 "),s("code",[t._v("[[prototype]]")]),t._v(" 链接到 "),s("code",[t._v("Object.prototype")]),t._v("，这被称为"),s("em",[t._v("原型链接(prototype linkage)")]),t._v("。下图中的原型链接由 "),s("code",[t._v("[[prototype]]")]),t._v(" 表示。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://www.javascripttutorial.net/wp-content/uploads/2016/09/JavaScript-Prototype-Function-defined.png",alt:"JavaScript Prototype - Function defined"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("其次，向 "),a("code",[this._v("Foo.prototype")]),this._v(" 对象中添加一个名为 "),a("code",[this._v("whoAmI()")]),this._v(" 的新方法。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("Foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("whoAmI")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I am "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://www.javascripttutorial.net/wp-content/uploads/2016/09/JavaScript-Prototype-Function.png",alt:"JavaScript Prototype - add method to prototype"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("第三，创建 "),a("code",[this._v("Foo")]),this._v(" 对象的新实例。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("在内部，JavaScript引擎创建一个名为 "),a("code",[this._v("a")]),this._v(" 的新对象，并通过原型链接将 "),a("code",[this._v("a")]),this._v(" 对象链接到 "),a("code",[this._v("Foo.prototype")]),this._v(" 对象。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://www.javascripttutorial.net/wp-content/uploads/2016/09/JavaScript-Prototype-New-Object.png",alt:"JavaScript Prototype - create a new object"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("对象 "),s("code",[t._v("a")]),t._v(" ，"),s("code",[t._v("Foo.prototype")]),t._v(" 和 "),s("code",[t._v("Object.protoype")]),t._v(" 的链接称为"),s("em",[t._v("原型链(prototype chain)")]),t._v("。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("第四，创建另一个名为 "),a("code",[this._v("b")]),this._v(" 的 "),a("code",[this._v("Foo")]),this._v(" 对象实例。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://www.javascripttutorial.net/wp-content/uploads/2016/09/JavaScript-Prototype-second-object.png",alt:"JavaScript Prototype - create a new object"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("第五，向 "),a("code",[this._v("b")]),this._v(" 对象添加新的 "),a("code",[this._v("say()")]),this._v(" 方法。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("say")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hi from '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoAmI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("JavaScript 引擎将 "),a("code",[this._v("say()")]),this._v(" 方法添加到 "),a("code",[this._v("b")]),this._v(" 对象，而不是 "),a("code",[this._v("Foo.prototype")]),this._v(" 对象。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("img",{attrs:{src:"http://www.javascripttutorial.net/wp-content/uploads/2016/09/JavaScript-Prototype-add-method-to-object.png",alt:"JavaScript Prototype - add method to object"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Foo")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("对象 "),s("code",[t._v("a")]),t._v(" 没有 "),s("code",[t._v("constructor")]),t._v(" 属性，因此，JavaScript 引擎会进入原型链找到它。因为对象 "),s("code",[t._v("a")]),t._v(" 通过原型链接链接到 "),s("code",[t._v("Foo.prototype")]),t._v(" 对象，并且 "),s("code",[t._v("Foo.prototype")]),t._v(" 具有构造函数属性，所以 JavaScript 引擎返回 "),s("code",[t._v("Foo")]),t._v("。因此，以下语句返回 "),s("code",[t._v("true")]),t._v("。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"获取原型链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取原型链接","aria-hidden":"true"}},[this._v("#")]),this._v(" 获取原型链接")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("正如您在前面的图表中所见的， "),s("code",[t._v("a.__proto__")]),t._v(" 公开了指向 "),s("code",[t._v("Foo.prototype")]),t._v(" 对象的 "),s("code",[t._v("[[prototype]]")]),t._v(" 属性。同样，"),s("code",[t._v("b.__proto__")]),t._v(" 指向和 "),s("code",[t._v("a.__proto__")]),t._v(" 同样的对象：")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("如前文所述，您应该使用 "),a("code",[this._v("Object.getPrototypeOf()")]),this._v(" 方法，而不是 "),a("code",[this._v("__proto__")]),this._v("。 "),a("code",[this._v("Object.getPrototypeOf()")]),this._v(" 方法返回指定对象的原型。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("当 "),a("code",[this._v("Object.getPrototypeOf()")]),this._v(" 方法不可用时，开发人员经常使用如下的另一种方法是通过 "),a("code",[this._v("constructor")]),this._v(" 属性获得原型链接：")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[this._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),this._v("constructor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),this._v("prototype\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("a.constructor")]),this._v(" 返回 "),a("code",[this._v("Foo")]),this._v(" ，因此， "),a("code",[this._v("a.constructor.prototype")]),this._v("  返回原型对象。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"遮蔽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遮蔽","aria-hidden":"true"}},[this._v("#")]),this._v(" 遮蔽")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoAmI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// I am a")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[s("code",[t._v("a")]),t._v(" 对象没有方法 "),s("code",[t._v("whoAmI()")]),t._v("，因此当从 "),s("code",[t._v("a")]),t._v(" 对象调用此方法时，JavaScript 引擎会进入原型链并找到它。在这种情况下，它在 "),s("code",[t._v("Foo.prototype")]),t._v(" 对象中找到方法并执行。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("让我们在 "),a("code",[this._v("a")]),this._v(" 对象添加一个和 "),a("code",[this._v("Foo.prototype")]),this._v(" 对象中同名的新方法。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("whoAmI")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("并调用 "),a("code",[this._v("whoAmI()")]),this._v(" 方法：")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("whoAmI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This is a")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("因为我们在 "),a("code",[this._v("a")]),this._v(" 对象中有 "),a("code",[this._v("whoAmI()")]),this._v(" 方法，所以 JavaScript 引擎只是立即执行它，而不用在原型链中查找它。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("这是遮蔽(shadowing)的一个例子(*1)。对象的 "),a("code",[this._v("whoAmI()")]),this._v(" 方法遮蔽了对象链接到的原型对象的 "),a("code",[this._v("whoAmI()")]),this._v("方法。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("*1: 真正的遮蔽(shadowing)运作情况比这里所说的要复杂一些，对于赋值语句 "),a("code",[this._v('myObject.foo = "bar"')]),this._v(" 的行为如下")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[t._v("如果在 "),s("code",[t._v("[[Prototype]]")]),t._v(" 链上层存在名为 "),s("code",[t._v("foo")]),t._v(" 的普通数据访问属性，那就会直接在 "),s("code",[t._v("myObject")]),t._v(" 中添加一个名为 "),s("code",[t._v("foo")]),t._v(" 的新属性，它是屏蔽属性。")]),t._v(" "),s("li",[t._v("如果在 "),s("code",[t._v("[[Prototype]]")]),t._v(" 链上层存在 "),s("code",[t._v("foo")]),t._v("，但是它被标记为只读"),s("code",[t._v("（writable:false）")]),t._v("，那么无法修改已有属性或者在 "),s("code",[t._v("myObject")]),t._v(" 上创建屏蔽属性。 如果运行在严格模式下， 代码会抛出一个错误。否则，这条赋值语句会被忽略。总之，不会发生遮蔽。")]),t._v(" "),s("li",[t._v("如果在 "),s("code",[t._v("[[Prototype]]")]),t._v(" 链上层存在 "),s("code",[t._v("foo")]),t._v(" 并且它是一个 "),s("code",[t._v("setter")]),t._v("，那就一定会调用这个 "),s("code",[t._v("setter")]),t._v("。"),s("code",[t._v("foo")]),t._v(" 不会被添加到（ 或者说遮蔽于）"),s("code",[t._v("myObject")]),t._v("，也不会重新定义 "),s("code",[t._v("foo")]),t._v(" 这个 "),s("code",[t._v("setter")]),t._v("。")])])}],!1,null,null,null);n.options.__file="通过样例解释 JavaScript Prototype.md";a.default=n.exports}}]);